<!doctype html>
<html lang="en">

<head>
    <title>Formulario</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://bootswatch.com/5/lux/bootstrap.css" crossorigin="anonymous">

</head>
<style>
    .texto-vertical-2 {
        writing-mode: vertical-lr;
        transform: rotate(180deg);
    }
</style>

<body>
    <nav class="navbar navbar-expand navbar-light bg-dark"></nav>
    <div class="container mb-5">





        <div class="row mt-4" id="div-inicio">
            <hr>
            <h2 class="text-center">AUTO EVALUACIÓN PRELIMINAR DE RIESGOS ASOCIADOS A PRIVACIDAD DE DATOS</h2>
            <p>Esta herramienta fue diseñada en el contexto de una tesis de post grado asociada a un Magister en
                Ciberseguridad. A futuro se pretende ir mejorando y entregado un artefacto más robusto y más preciso.
            </p>
            <p>Tiene como principal objetivo calcular un nivel de riesgo preliminar asociado a la protección de datos
                personales en su organización. Mediante una auto-evaluación de la probabilidad de ocurrencia e impacto
                al negocio de 10 riesgos previamente establecidos, entrega un cálculo estimado del riesgo.</p>
            <p>El modelo de riesgos aborda cuatro ámbitos relevantes, tres de ellos asociados a la triada de seguridad
                de la información y un ámbito relacionado al cumplimiento de las buenas prácticas de protección de datos
                personales.</p>
            <p>Tenga en cuenta que esta herramienta es una ayuda y, por tanto, la documentación resultante deberá estar
                adaptada y actualizada a la realidad de su organización en relación con la privacidad de datos
                personales.</p>
            <div class="row justify-content-end mt-4">
                <div class="col-6"></div>
                <div class="col-6">
                    <button type="button" name="" id="" class="btn btn-outline-warning"
                        onclick="show(1);">CONTINUAR</button>
                </div>
            </div>

        </div>




        <div class="row mt-4" id="div-datos-iniciales" style="display: none;">
            <div class="row m-4">
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button type="button" class="btn btn-warning" disabled>1.-Información General</button>
                    <button type="button" class="btn btn-secondary" disabled>2.-Gestión de Riesgos</button>
                    <button type="button" class="btn btn-secondary" disabled>3.-Resultados Finales</button>
                </div>
            </div>
            <div class="row">
                <h2 id="">INFORMACIÓN GENERAL</h2>
                <p id="">Información ingresada solo será de uso interno para análisis estadístico.</p>

            </div>
            <div class="row">

                <div class="col-9 mb-2">
                    <div class="form-group">
                        <label for="">Correo electrónico</label>
                        <input type="email" class="form-control" name="email" id="email"
                            onchange="validarDatosIniciales();getRespuestas();" aria-describedby="emailHelpId"
                            placeholder="ejemplo@ejemplo.com">
                    </div>
                </div>
                <div class="col-9">
                    <div class="form-group">
                        <div class="form-group">
                            <label for="">Industria</label>
                            <select class="form-control" name="industria" id="select-industrias">
                                <option>Telecomunicaciones</option>
                                <option>Informática</option>
                                <option>Agroindustria</option>
                            </select>
                        </div>
                    </div>
                </div>

            </div>

            <div class="row mt-4">
                <div class="col-6"></div>
                <div class="col-6">
                    <button type="button" name="" id="btnContinuar" class="btn btn-outline-warning"
                        onclick="btnDatosIniciales();">CONTINUAR</button>
                    <div id="feedback-correo" style="display: none;" class="invalid-feedback">Por favor, ingrese un
                        correo válido.</div>
                </div>
            </div>
        </div>





        <div class="row" id="div-preguntas" style="display: none;">
            <hr>
            <div class="row m-4">
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button type="button" class="btn btn-secondary" disabled>1.-Información General</button>
                    <button type="button" class="btn btn-warning" disabled>2.-Gestión de Riesgos</button>
                    <button type="button" class="btn btn-secondary" disabled>3.-Resultados</button>
                </div>
            </div>
            <div class="row">
                <h2 class="text-center">Gestión de Riesgos</h2>
                <h3 id="pilar">Titulo Pregunta</h2>
                    <p id="riesgo">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Repudiandae quasi sapiente
                        a
                        alias
                        praesentium asperiores placeat voluptas sequi distinctio, ipsa, impedit ex nostrum, veritatis
                        illum
                        debitis magni. Minima, ipsum placeat.</p>
            </div>

            <div class="row">
                <div class="col">
                    <div class="form-group">
                        <label for="">Impacto</label>
                        <select class="form-select" id="impacto" onchange="calcularRiesgo()">
                            <option selected value="0">-</option>
                            <option value="1">Leve</option>
                            <option value="2">Moderado</option>
                            <option value="3">Catastrófico</option>
                        </select>
                    </div>
                </div>

                <div class="col">
                    <div class="form-group">
                        <label for="">Probabilidad</label>
                        <select class="form-select" id="probabilidad" onchange="calcularRiesgo()">
                            <option selected value="0">-</option>
                            <option value="1">Improbable</option>
                            <option value="2">Posible</option>
                            <option value="3">Probable</option>
                        </select>
                    </div>
                </div>
                <div class="col">
                    <div class="form-group">
                        <label for="">Riesgo Residual</label>
                        <select class="form-select" id="riesgo_res" disabled>
                            <option selected value="0">-</option>
                            <option value="1">Bajo</option>
                            <option value="2">Medio</option>
                            <option value="3">Alto</option>
                            <option value="4">Crítico</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="mt-4 text-center">
                <button id="btn-helper" style="background-color: #bdecb6;" class="btn btn-sm" data-toggle="collapse"
                    data-target="#helper"><img src="./img/information.png" alt="" height="20px" width="20px"> Criterios
                    de evaluación</button>

                <div id="helper" class="collapse">

                </div>
            </div>

            <div class="d-flex justify-content-center m-4">
                <button type="button" onclick="prevQuestion()" name="" id="btnPrevQuestion"
                    class="btn btn-outline-primary m-3">Anterior</button>
                <button type="button" onclick="nextQuestion()" name="" id="btnNextQuestion"
                    class="btn btn-outline-warning m-3">Siguiente</button>
                <div id="feedback-pregunta" style="display: none;" class="invalid-feedback">Por favor, marque una u otra
                    opción.</div>
            </div>
            <div class="d-flex justify-content-center m-4">
                <span id="span-progreso">Progreso</span>
                <div class="progress">
                    <div id="barra-progreso" class="progress-bar progress-bar-striped bg-info" role="progressbar"
                        style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
            </div>
            <hr>
        </div>





        <div class="row mt-4" id="div-resultados" style="display: none;">
            <div class="row">
                <div class="row m-4">
                    <div class="btn-group" role="group" aria-label="Basic example">
                        <button type="button" class="btn btn-secondary" disabled>1.-Información General</button>
                        <button type="button" class="btn btn-secondary" disabled>2.-Gestión de Riesgos</button>
                        <button type="button" class="btn btn-warning" disabled>3.-Resultados Finales</button>
                    </div>
                </div>
                <h2 id="">RESULTADOS FINALES</h2>
                <p id="">Existen las siguientes opciones:</p>
                <p>- Generar informe de riesgos: genera un documento de base con el resultado del análisis realizado</p>
            </div>
            <div class="row">
                <div class="col-6">
                    <button type="button" name="" id="" class="btn btn-danger" onclick="generarPDF();">GENERAR
                        PDF </button>
                </div>
                <div class="col-6">
                    <button type="button" name="" id="" class="btn btn-success"
                        onclick="tableToExcel('tabla', 'W3C Example Table')">GENERAR
                        RESULTADOS (.xls)</button>
                </div>
            </div>
        </div>





    </div>
    <!--FIN DIV CONTAINER-->

    <!-- Footer -->
    <footer class="page-footer font-small bg-dark fixed-bottom">

        <!-- Copyright -->
        <div class="footer-copyright text-center py-3">© 2021 Copyright:
            <a href="https://asesoriapdp.wordpress.com/"> Capstone</a>
        </div>
        <!-- Copyright -->

    </footer>
    <!-- Footer -->
    <div id="divPDF">
        <div id="tituloPDF" style="display: none;">
            <p class="h4 text-center">Resultado Auto-evaluación de Riesgos</p>
            <p class="h5">Datos Generales</p><br>
            <p id="correo_" class="h5">...</p>
            <p id="industria_" class="h5">...</p>
        </div>
        <div style="display: none;" id="tablaCompleta" class="container p-5">
            <table class="table table-hover table-sm">
                <thead>
                    <tr>
                        <th colspan="5" class="text-center h5">Resultado Gestión de Riesgos</th>
                    </tr>
                    <tr>
                        <th>Pilar</th>
                        <th>Riesgo</th>
                        <th>Impacto</th>
                        <th>Probabilidad</th>
                        <th>Riesgo</th>
                    </tr>
                </thead>
                <tbody id="tabla">
                </tbody>
            </table>
        </div>

        <div style="display: none;" id="mapaCompleto" class="container p-5">
            <table class="table table-borderless">
                <thead class="table-sm">
                    <tr>
                        <th colspan="5" class="text-center h5">Resumen Auto-evaluación</th>
                    </tr>
                    <tr>
                        <th colspan="5" class="text-center h6">Nivel de Riesgos</th>
                    </tr>
                </thead>

                <tbody id="tablaMapaCalor" class="">
                    <tr>
                        <td rowspan="5" class="text-center texto-vertical-2 table-dark" style="width: 15px;">
                            Probabilidad</td>
                        <td colspan="1" class="text-center">Probable</td>
                        <td colspan="1" id="mc31" style="background-color: #c88f14; color: white;"> </td>
                        <td colspan="1" id="mc32" style="background-color: #d42332; color: white;"> </td>
                        <td colspan="1" id="mc33" style="background-color: #7c0a0a; color: white;"> </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="text-center"> Posible</td>
                        <td colspan="1" id="mc21" style="background-color: #69923a; color: white;"> </td>
                        <td colspan="1" id="mc22" style="background-color: #c88f14; color: white;"> </td>
                        <td colspan="1" id="mc23" style="background-color: #d42332; color: white;"> </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="text-center">Improbable</td>
                        <td colspan="1" id="mc11" style="background-color: #69923a; color: white;"> </td>
                        <td colspan="1" id="mc12" style="background-color: #69923a; color: white;"> </td>
                        <td colspan="1" id="mc13" style="background-color: #c88f14; color: white;"> </td>
                    </tr>
                    <tr>
                        <td colspan="1" class="text-center"></td>
                        <td colspan="1" style="width: 300px;" class="text-center">Leve</td>
                        <td colspan="1" style="width: 300px;" class="text-center">Moderado</td>
                        <td colspan="1" style="width: 300px;" class="text-center">Catastrófico</td>
                    </tr>

                    <tr>
                        <td colspan="4" class="text-center table-dark" style="height: 15px;">Impacto</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>




    <script src="./js/html2pdf.bundle.min.js"></script>
    <!-- Optional JavaScript -->
    <script src="./js/script.js"></script>
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src=" https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>